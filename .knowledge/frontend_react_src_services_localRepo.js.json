{"is_source_file": true, "format": "JavaScript", "description": "This file implements a local data persistence layer for a personal expense tracker, using localStorage with optional IndexedDB fallback. It provides CRUD operations for categories and expenses, helper functions for report generation, seed data initialization, and utility functions for ID generation and JSON parsing. It exports an API-like interface for managing expense data, suitable for offline use.", "external_files": [], "external_methods": [], "published": ["listCategories", "createCategory", "deleteCategory", "listExpenses", "createExpense", "deleteExpense", "getReportsSummary", "health"], "classes": [], "methods": [{"name": "listCategories()", "description": "Returns an array of expense categories stored locally.", "scope": "", "scopeKind": ""}, {"name": "createCategory({ name })", "description": "Creates a new expense category with a unique ID and saves it locally.", "scope": "", "scopeKind": ""}, {"name": "deleteCategory(id)", "description": "Deletes an expense category by its ID and resets associated expenses to 'misc'.", "scope": "", "scopeKind": ""}, {"name": "listExpenses(params = {})", "description": "Retrieves expenses, optionally filtered by date range and category.", "scope": "", "scopeKind": ""}, {"name": "createExpense(expense)", "description": "Creates a new expense entry with normalized data and stores it locally.", "scope": "", "scopeKind": ""}, {"name": "deleteExpense(id)", "description": "Removes an expense by its ID.", "scope": "", "scopeKind": ""}, {"name": "getReportsSummary({ from = '', to = '' } = {})", "description": "Generates monthly and by-category expense summaries between optional date filters.", "scope": "", "scopeKind": ""}, {"name": "health()", "description": "Provides a health check response indicating local mode operation.", "scope": "", "scopeKind": ""}, {"name": "computeByCategory(expenses)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "computeMonthlyTotals(expenses)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ensureSeed()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "lsGet(key, fallback)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "lsSet(key, value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "normalizeExpense(input)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeParse(json, fallback)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uid(prefix = 'id')", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["ensureSeed()", "lsGet()", "lsSet()", "uid()", "safeParse()", "normalizeExpense()", "computeMonthlyTotals()", "computeByCategory()"], "search-terms": ["localStorage", "expense", "category", "offline persistence", "CRUD", "seed data", "expense tracker", "local repository", "indexedDB fallback", "project-specific"], "state": 2, "file_id": 37, "knowledge_revision": 89, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_CATEGORIES", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^const DEFAULT_CATEGORIES = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEYS", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^const STORAGE_KEYS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "categories", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  categories: 'ocean.expenses.categories',$/", "language": "JavaScript", "kind": "property", "scope": "STORAGE_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "computeByCategory", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function computeByCategory(expenses) {$/", "language": "JavaScript", "kind": "function", "signature": "(expenses)"}, {"_type": "tag", "name": "computeMonthlyTotals", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function computeMonthlyTotals(expenses) {$/", "language": "JavaScript", "kind": "function", "signature": "(expenses)"}, {"_type": "tag", "name": "createCategory", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function createCategory({ name }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name })"}, {"_type": "tag", "name": "createExpense", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function createExpense(expense) {$/", "language": "JavaScript", "kind": "function", "signature": "(expense)"}, {"_type": "tag", "name": "deleteCategory", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function deleteCategory(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "deleteExpense", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function deleteExpense(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "ensureSeed", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function ensureSeed() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "expenses", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  expenses: 'ocean.expenses.items',$/", "language": "JavaScript", "kind": "property", "scope": "STORAGE_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "getReportsSummary", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function getReportsSummary({ from = '', to = '' } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ from = '', to = '' } = {})"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function health() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  const newCat = { id: uid('cat'), name: String(name).trim() };$/", "language": "JavaScript", "kind": "property", "scope": "createCategory.newCat", "scopeKind": "class"}, {"_type": "tag", "name": "listCategories", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function listCategories() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listExpenses", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function listExpenses(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "lsGet", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function lsGet(key, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, fallback)"}, {"_type": "tag", "name": "lsSet", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function lsSet(key, value) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, value)"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  meta: 'ocean.expenses.meta',$/", "language": "JavaScript", "kind": "property", "scope": "STORAGE_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  const newCat = { id: uid('cat'), name: String(name).trim() };$/", "language": "JavaScript", "kind": "property", "scope": "createCategory.newCat", "scopeKind": "class"}, {"_type": "tag", "name": "newCat", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  const newCat = { id: uid('cat'), name: String(name).trim() };$/", "language": "JavaScript", "kind": "class", "scope": "createCategory", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeExpense", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function normalizeExpense(input) {$/", "language": "JavaScript", "kind": "function", "signature": "(input)"}, {"_type": "tag", "name": "safeParse", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function safeParse(json, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, fallback)"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function uid(prefix = 'id') {$/", "language": "JavaScript", "kind": "function", "signature": "(prefix = 'id')"}], "hash": "a176af122f08f8d9d55af006d4b85491", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/localRepo.js", "fields": [{"name": "categories: 'ocean.expenses.categories',", "scope": "STORAGE_KEYS", "scopeKind": "class", "description": "unavailable"}, {"name": "expenses: 'ocean.expenses.items',", "scope": "STORAGE_KEYS", "scopeKind": "class", "description": "unavailable"}, {"name": "const newCat = { id: uid('cat'), name: String(name).trim() };", "scope": "createCategory.newCat", "scopeKind": "class", "description": "unavailable"}, {"name": "meta: 'ocean.expenses.meta',", "scope": "STORAGE_KEYS", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"89": ""}]}