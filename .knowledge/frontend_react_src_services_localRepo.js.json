{"is_source_file": true, "format": "JavaScript", "description": "A source file providing offline persistence utilities for a personal expense tracker application. It handles CRUD operations for categories and expenses, uses localStorage (with fallback considerations), and offers reporting helpers like monthly totals and category summaries. It exports an API-like interface for interacting with expense and category data stored locally.", "external_files": ["window.localStorage"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify", "Date"], "published": ["listCategories", "createCategory", "updateCategory", "deleteCategory", "listExpenses", "createExpense", "updateExpense", "deleteExpense", "getReportsSummary", "health"], "classes": [], "methods": [{"name": "listCategories()", "description": "Fetches the list of expense categories from local storage, initializing seed data if empty.", "scope": "", "scopeKind": ""}, {"name": "createCategory({ name })", "description": "Creates a new expense category with a generated ID and provided name.", "scope": "", "scopeKind": ""}, {"name": "updateCategory(id, changes = {})", "description": "Updates an existing category by ID with provided changes, primarily the name.", "scope": "", "scopeKind": ""}, {"name": "deleteCategory(id)", "description": "Removes a category by ID and reassigns associated expenses to the 'misc' category.", "scope": "", "scopeKind": ""}, {"name": "listExpenses(params = {})", "description": "Returns expenses filtered optionally by date range and category.", "scope": "", "scopeKind": ""}, {"name": "createExpense(expense)", "description": "Creates a new expense record, normalizing input data and validating required fields.", "scope": "", "scopeKind": ""}, {"name": "updateExpense(id, changes = {})", "description": "Updates an expense record by ID with the provided changes, with validation.", "scope": "", "scopeKind": ""}, {"name": "deleteExpense(id)", "description": "Deletes an expense record by ID.", "scope": "", "scopeKind": ""}, {"name": "getReportsSummary({ from = '', to = '' } = {})", "description": "Provides expense summaries grouped monthly and by category within an optional date range.", "scope": "", "scopeKind": ""}, {"name": "health()", "description": "Returns a simple status object indicating local mode health check.", "scope": "", "scopeKind": ""}, {"name": "computeByCategory(expenses)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "computeMonthlyTotals(expenses)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ensureSeed()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "lsGet(key, fallback)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "lsSet(key, value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "normalizeExpense(input)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeParse(json, fallback)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uid(prefix = 'id')", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["lsGet", "lsSet", "safeParse", "uid", "normalizeExpense", "computeMonthlyTotals", "computeByCategory"], "search-terms": ["localStorage persistence", "expense CRUD", "category management", "offline data", "expense reporting", "local seed data"], "state": 2, "file_id": 37, "knowledge_revision": 120, "git_revision": "7471f7008031481cd5a9c7e918044a035f2eef7c", "revision_history": [{"89": ""}, {"120": "7471f7008031481cd5a9c7e918044a035f2eef7c"}], "ctags": [{"_type": "tag", "name": "DEFAULT_CATEGORIES", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^const DEFAULT_CATEGORIES = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEYS", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^const STORAGE_KEYS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "categories", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  categories: 'ocean.expenses.categories',$/", "language": "JavaScript", "kind": "property", "scope": "STORAGE_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "computeByCategory", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function computeByCategory(expenses) {$/", "language": "JavaScript", "kind": "function", "signature": "(expenses)"}, {"_type": "tag", "name": "computeMonthlyTotals", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function computeMonthlyTotals(expenses) {$/", "language": "JavaScript", "kind": "function", "signature": "(expenses)"}, {"_type": "tag", "name": "createCategory", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function createCategory({ name }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name })"}, {"_type": "tag", "name": "createExpense", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function createExpense(expense) {$/", "language": "JavaScript", "kind": "function", "signature": "(expense)"}, {"_type": "tag", "name": "deleteCategory", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function deleteCategory(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "deleteExpense", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function deleteExpense(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "ensureSeed", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function ensureSeed() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "expenses", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  expenses: 'ocean.expenses.items',$/", "language": "JavaScript", "kind": "property", "scope": "STORAGE_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "getReportsSummary", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function getReportsSummary({ from = '', to = '' } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ from = '', to = '' } = {})"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function health() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  const newCat = { id: uid('cat'), name: trimmed };$/", "language": "JavaScript", "kind": "property", "scope": "createCategory.newCat", "scopeKind": "class"}, {"_type": "tag", "name": "listCategories", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function listCategories() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listExpenses", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function listExpenses(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "lsGet", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function lsGet(key, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, fallback)"}, {"_type": "tag", "name": "lsSet", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function lsSet(key, value) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, value)"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  meta: 'ocean.expenses.meta',$/", "language": "JavaScript", "kind": "property", "scope": "STORAGE_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  const newCat = { id: uid('cat'), name: trimmed };$/", "language": "JavaScript", "kind": "property", "scope": "createCategory.newCat", "scopeKind": "class"}, {"_type": "tag", "name": "newCat", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^  const newCat = { id: uid('cat'), name: trimmed };$/", "language": "JavaScript", "kind": "class", "scope": "createCategory", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeExpense", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function normalizeExpense(input) {$/", "language": "JavaScript", "kind": "function", "signature": "(input)"}, {"_type": "tag", "name": "safeParse", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function safeParse(json, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, fallback)"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^function uid(prefix = 'id') {$/", "language": "JavaScript", "kind": "function", "signature": "(prefix = 'id')"}, {"_type": "tag", "name": "updateCategory", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function updateCategory(id, changes = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, changes = {})"}, {"_type": "tag", "name": "updateExpense", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-48067-48076/frontend_react/src/services/localRepo.js", "pattern": "/^export async function updateExpense(id, changes = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, changes = {})"}], "hash": "49eafe57bbaea69a7a50c0bd283b8280", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/localRepo.js", "fields": [{"name": "categories: 'ocean.expenses.categories',", "scope": "STORAGE_KEYS", "scopeKind": "class", "description": "unavailable"}, {"name": "expenses: 'ocean.expenses.items',", "scope": "STORAGE_KEYS", "scopeKind": "class", "description": "unavailable"}, {"name": "const newCat = { id: uid('cat'), name: trimmed };", "scope": "createCategory.newCat", "scopeKind": "class", "description": "unavailable"}, {"name": "meta: 'ocean.expenses.meta',", "scope": "STORAGE_KEYS", "scopeKind": "class", "description": "unavailable"}]}